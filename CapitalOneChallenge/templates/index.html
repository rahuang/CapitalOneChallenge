<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Capital One Instagram Challenge</title>

    <!-- Mobile Specific Metas
  ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="{{STATIC_URL}}favicon.ico"/>
    
    <!-- CSS
    ================================================== -->
    <!-- Bootstrap -->
    <link href="{{ STATIC_URL }}assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/font-awesome.min.css">
    <!-- Animation -->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/animate.css">
    <!-- Materialize CSS -->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/materialize.css">
    <!-- Jquery CSS -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <!-- Tooltipster CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/css/tooltipster.css">
    <!-- Template styles-->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/style.css">
    <!-- Responsive styles-->
    <link rel="stylesheet" href="{{ STATIC_URL }}css/responsive.css">

    <!-- Javascript/Jquery
    ================================================== -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!-- Highcharts -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/highcharts.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/exporting.js"></script>
    <!-- Jquery UI -->
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!-- Tooltipster -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tooltipster/3.3.0/js/jquery.tooltipster.min.js"></script>
    <!-- Materialize -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/js/materialize.min.js"></script>

    <!-- initialize jQuery Library -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.js"></script>
    <!-- Bootstrap jQuery -->
    <script type="text/javascript" src="{{ STATIC_URL }}assets/js/bootstrap.min.js"></script>
    <!-- PrettyPhoto -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.prettyPhoto.js"></script>
    <!-- Wow Animation -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/wow.min.js"></script>
    <!-- singlepagenav -->
    <script src="{{ STATIC_URL }}js/jquery.singlePageNav.js"></script>
    <!-- Eeasing -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery.easing.1.3.js"></script>
    <!-- Sticky Menu -->
    <script src="{{ STATIC_URL }}js/jquery.sticky.js"></script>
    <!-- Custom Javascript -->
    <script type="text/javascript" src="{{ STATIC_URL }}js/custom.js"></script>

    <script type="text/javascript" src="{{ STATIC_URL }}js/trending.js"></script>

  </head>
   <body data-spy="scroll" data-target=".main-nav">
    
    <section id="section-banner">
        <div class="container">
            <div class="row">
                <div class="banner-content text-center">
                    <h2 class="title">
                        <div class="line-top"></div>
                            Capital One Instagram Challenge
                        <div class="line-btm"></div>    
                    </h2>

                    <div role="nav"><a href="#section-overview" class="btn btn-default">Learn More</a></div>
                </div>
            </div>
        </div>
    </section>

    <!-- section menu start -->

    <section class="section-menu">
        <div class="navbar navbar-default main-nav" role="navigation" >
            <div class="container" >
                <div class="navbar-header">
                    <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse">
                        <span class="sr-only"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></spgo2
png  height="50px"                    <span class="icon-bar"></span>
                    </button>
                
                    <div role="nav"><a href="#section-banner" class="navbar-brand"> 
                        <img class="navbar-img" src="{{ STATIC_URL }}images/logo2.png" height="50px" alt="">
                        <img class="navbar-img" src="{{ STATIC_URL }}images/logo3.png" height="50px" alt="">
                    </a></div>
                </div>  <!-- navbar-header end -->
                <!-- main nav  -->

                <div class="collapse navbar-collapse navigation" id="bs-example-navbar-collapse-1" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="active"><a href="#section-banner">Home</a></li>
                        <li><a href="#section-posts">20 Recent Posts</a></li>
                        <li><a href="#section-trending">Trending Analysis</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </div>
    </section>
    <!-- section menu end -->

    <section id="section-overview" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-4 wow fadeInDown" data-wow-delay=".2s">
                    <div class="overview-box">
                        <h3>Technology</h3>
                        <p>This web application was built using Django, Bootstrap, Jquery, and HTML. It uses the Instagram API and Text-Processing API for sentiment analysis.</p>
                    </div>
                </div> <!-- col-md-4 end -->

                <div class="col-md-4 col-sm-4 wow fadeInDown" data-wow-delay=".4s">
                    <div class="overview-box">
                        <h3>Posts</h3>
                        <p>The following are a list of the 20 most recent #CapitalOne posts and its information. Hover over each username or profile picture to learn more about the user who posted it.</p>
                    </div>
                </div> <!-- col-md-4 end -->

                <div class="col-md-4 col-sm-4 wow fadeInDown" data-wow-delay=".6s">
                    <div class="overview-box">
                        <h3>Trending</h3>
                        <p>I used HighCharts and D3 to generate data visualization tools to help better understand if #CapitalOne is trending positively or negatively.</p>
                    </div>
                </div> <!-- col-md-4 end -->
            </div>
        </div>
    </section>
    <!-- section overview end -->


    <!-- Resume start -->

    <section id="section-posts" class="section-padding">
        
        <div class="container" >
            <div class="row">
                <div id="posts" class="col-md-12 text-center wow fadeInLeft">

                    <h2 class="heading-title">20 Most Recent Posts with #CapitalOne</h2>
                    <h4>Positive post: Geen, Negative post: Red, Neutral post: Blue</h4>
                    <div id="popout" class="section scrollspy">
                        <ul class="collapsible popout collapsible-accordion" data-collapsible="expandable">
                        {% for post, user, sentiment in posts %}
                            <li>
                                {% if sentiment.label == "pos" %}
                                <div class="collapsible-header background-green">
                                {% elif sentiment.label == "neg" %}
                                <div class="collapsible-header background-red">
                                {% else %}
                                <div class="collapsible-header background-blue">
                                {% endif %}
                                    <strong style="color:white">{{forloop.counter}}</strong>
                                </div>
                                <div class="collapsible-body">
                                    <div class="row">
                                        <div class="col s12 m12">
                                          <div class="card hoverable">
                                            <div class="col s12 m6">
                                                <div class="card-image">
                                                    {% if post.type ==  "image" %}
                                                        <img src="{{post.images.standard_resolution.url}}">
                                                    {% elif post.type == "video" %}
                                                        <video width="320" height="240" controls>
                                                          <source src="{{post.videos.standard_resolution.url}}" type="video/mp4">
                                                          <source src="movie.ogg" type="video/ogg">
                                                          Your browser does not support the video tag.
                                                        </video>
                                                    {% endif %}
                                                  <!-- <span class="card-title">Card Title</span> -->
                                                </div>
                                            </div>
                                            <div class="col s12 m6">
                                                <div class="card-content">
                                                    <div>
                                                        <img title="" class="tt{{forloop.counter}} img-prof" src="{{post.user.profile_picture}}"/>
                                                        <div class="username">
                                                            <strong class="tt{{forloop.counter}}" title="">
                                                                {{post.user.username}}
                                                            </strong>  
                                                            <script type="text/javascript">
                                                                $(document).ready(function(){
                                                                    $('.tt{{forloop.counter}}').tooltipster({
                                                                        animation: "grow",
                                                                        theme: "my-custom-theme",
                                                                        content: function(){
                                                                            return "<div>" + "Number of posts: {{user.counts.media}}<br>Number of followers: {{user.counts.followed_by}}<br>Number of people followed: {{user.counts.follows}}" + "</div>";
                                                                        }
                                                                    }); 
                                                                });
                                                            </script>
                                                        </div>
                                                    </div>
                                                    <hr>
                                                    <div><strong>{{post.likes|length}} Likes</strong></div>
                                                    {% if post.likes|length > 0 %}
                                                        <div>
                                                            {% if post.likes|length >= 1 %}
                                                                <strong>{{post.likes.0.username}}</strong>
                                                            {% endif %}
                                                            {% if post.likes|length >= 2 %}
                                                                , <strong>{{post.likes.1.username}} </strong>
                                                            {% endif %}
                                                            {% if post.likes|length > 2 %}
                                                                , etc. 
                                                            {% endif %}
                                                            liked this.
                                                        </div>
                                                    {% endif %}
                                                    <p class="caption">{{post.caption.text}}</p>
                                                    <p class="caption">Sentiment of the Post: <strong>{{sentiment.label}}</strong></p>
                                                </div>
                                            </div>
                                          </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="section-trending" class="section-padding">
        
        <div class="container" >
            <div class="row">
                <div id="posts" class="col-md-12 text-center wow fadeInLeft">

                    <h2 class="heading-title">Trending Analysis of #CapitalOne</h2>

                    <div id="count-chart"></div>

                    <div id="percentage-chart"></div>

                    <div id="loader" style="display: none;">
                        <div class="preloader-wrapper big active">
                            <div class="spinner-layer spinner-blue-only">
                              <div class="circle-clipper left">
                                <div class="circle"></div>
                              </div>
                              <div class="gap-patch">
                                <div class="circle"></div>
                              </div>
                              <div class="circle-clipper right">
                                <div class="circle"></div>
                              </div>
                            </div>
                        </div>
                    </div>

                    <button id="load-more" class="btn btn-default featured" onclick="loadMore();">Load More</button>
                    
                </div>
            </div>
        </div>
    </section>

    
    <!-- section testimonial start -->

    <section id="section-testimonial" class="section-padding">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="carousel slide text-center" id="testimonial-carousel">
                         <ol class="carousel-indicators">
                            <li data-target="#testimonial-carousel" data-slide-to="0" class="active"></li>
                            <li data-target="#testimonial-carousel" data-slide-to="1"></li>
                            <li data-target="#testimonial-carousel" data-slide-to="2"></li>
                          </ol>
                        <div class="carousel-inner">
                            <div class="item active">
                                <p>“ Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam, te usu virtute placerat. Purto brute disputando cu est, eam dicam soluta ei. Vel dicam vivendo accusata ei, cum ne periculis molestiae pri. Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam. ”</p>

                                <h4 class="client-name">John Stone</h4>
                            </div>
                            <div class="item">
                                <p>“ Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam, te usu virtute placerat. Purto brute disputando cu est, eam dicam soluta ei. Vel dicam vivendo accusata ei, cum ne periculis molestiae pri. Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam. ”</p>

                                <h4 class="client-name">John Stone</h4>
                            </div>
                            <div class="item ">
                                <p>“ Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam, te usu virtute placerat. Purto brute disputando cu est, eam dicam soluta ei. Vel dicam vivendo accusata ei, cum ne periculis molestiae pri. Lorem ipsum dolor sit amet, ea doming epicuri iudicabit nam. ”</p>

                                <h4 class="client-name">John Stone</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- section testimonial end -->

    <footer id="section-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h4>Copyright 2015 Richard Huang</h4>
                    <h4>Loading charts may take a while...</h4>
                    <ul class="socail-link list-inline">
                        <li><a href="mailto:rahuang@andrew.cmu.edu" target="_blank"><i class="fa fa-envelope"></i></a></li>
                        <li><a href="https://www.linkedin.com/in/richardrickhuang" target="_blank"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="https://github.com/rahuang" target="_blank"><i class="fa fa-github"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>

    </footer>
    <script>
         $(".main-nav").sticky();
    </script>

    <script> 
        new WOW().init();
    
    </script>
    
  </body>
</html>